!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("ims-ui-kit"),require("prop-types"),require("react"),require("react-icons/bi"),require("yup"),require("react/jsx-runtime")):"function"==typeof define&&define.amd?define(["exports","ims-ui-kit","prop-types","react","react-icons/bi","yup","react/jsx-runtime"],n):n((e||self).imsExtensionComponents={},e.imsUiKit,e.propTypes,e.react,e.bi,e.yup,e.jsxRuntime)}(this,function(e,n,r,t,i,o,s){function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var t=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,t.get?t:{enumerable:!0,get:function(){return e[r]}})}}),n.default=e,n}var u=/*#__PURE__*/a(r),c=/*#__PURE__*/a(t),f=/*#__PURE__*/l(o);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},d.apply(this,arguments)}function m(e,n){try{var r=e()}catch(e){return n(e)}return r&&r.then?r.then(void 0,n):r}Object.byString=function(e,n){for(var r=(n=(n=n.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),t=0,i=r.length;t<i;++t){var o=r[t];if(!(o in e))return;e=e[o]}return e};var h=function(e,n){var r=t.useState(e),i=r[0],o=r[1],s=t.useState({}),a=s[0],l=s[1],u=t.useState(!1),c=u[0],h=u[1],p=function(){try{var e={abortEarly:!1},r={};return Promise.resolve(m(function(){return Promise.resolve(n.validate(i,e)).then(function(){return null})},function(e){return e.inner.forEach(function(e){r[e.path]=e.message}),r}))}catch(e){return Promise.reject(e)}},v=function(){o(e),l({})},g=function e(n,r){var t,i=Object.keys(n),o=Object.keys(r);if(i.length!==o.length)return!1;for(var s=0,a=i;s<a.length;s++){var l=a[s],u=n[l],c=r[l],f=null!==(t=u)&&"object"==typeof t;if(!f&&u!==c)return!1;if(f&&!e(u,c))return!1}return!0};return t.useEffect(function(){console.log("datamodel",i),console.log("validation error:",a)},[i,a]),t.useEffect(function(){Promise.resolve(p()).then(function(e){if(e)return l(e)})},[]),{dataModel:i,validationErrors:a,isBusy:c,handleChange:function(e){var r=e.field,t=e.value,s=d({},i);s[r]=t,o(s),function(e,r){try{var t=d({},a),i=function(i,o){try{var s=m(function(){var i=f.reach(n,e);return Promise.resolve(i.validate(r)).then(function(){delete t[e]})},function(n){t[e]=n.message})}catch(e){return o(!0,e)}return s&&s.then?s.then(o.bind(null,!1),o.bind(null,!0)):o(!1,s)}(0,function(e,n){if(l(t),e)throw n;return n});return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}(r,t)},handleSubmit:function(e,n,r,t){void 0===r&&(r=!0);try{return e.preventDefault(),Promise.resolve(p()).then(function(t){function o(){h(!1)}if(t)return l(t);var s=m(function(){return h(!0),Promise.resolve(new Promise(function(t,o){try{return Promise.resolve(m(function(){return Promise.resolve(n(i,e)).then(function(){return r&&v(),t()})},function(e){return o(e)}))}catch(e){return Promise.reject(e)}})).then(function(){})},function(e){console.log(e)});return s&&s.then?s.then(o):o()})}catch(e){return Promise.reject(e)}},isFormValid:function(){return 0===Object.keys(a).length},resetForm:v,hasUnsavedData:function(){return!g(e,i)}}},p={email:"",password:""},v=f.object({email:f.string().required().email().label("Email"),password:f.string().required().min(8).label("Password")});f.object({name:f.string().required().label("Name"),email:f.string().required().email().label("Email"),password:f.string().required().min(8).label("Password")}),f.object({email:f.string().required().email().label("Email")}),f.object({password:f.string().required().min(8).label("Password")});var g=function(e){var r=e.onLogin,t=void 0===r?function(){}:r,o=e.onPasswordChange,a=void 0===o?function(){}:o,l=e.onEmailChange,u=void 0===l?function(){}:l,f=h(p,v),d=f.dataModel,m=f.handleChange,g=f.isBusy,j=f.handleSubmit,b=f.isFormValid;/*#__PURE__*/return s.jsxs("div",{className:"login-form",children:[/*#__PURE__*/s.jsx("img",{className:"login-alice-logo mb-4",src:"https://assets.imssystems.tech/images/logo/alice/alice-full-logo.svg"}),/*#__PURE__*/s.jsx("h4",{className:"",children:"Welcome!"}),/*#__PURE__*/s.jsx("p",{className:"mb-5",children:"Boost your business efficiency with AI technology."}),/*#__PURE__*/s.jsxs(n.Form,{children:[/*#__PURE__*/s.jsxs(n.InputGroup,{children:[/*#__PURE__*/s.jsx(n.InputGroupText,{children:/*#__PURE__*/s.jsx(i.BiEnvelope,{})}),/*#__PURE__*/s.jsx(n.Input,{label:"Email",placeholder:"Email",type:"email",autoComplete:"off",value:d.email,onChange:function(e){var n={field:"email",value:e.currentTarget.value};m(n),u(n)}})]}),/*#__PURE__*/s.jsxs(n.InputGroup,{children:[/*#__PURE__*/s.jsx(n.InputGroupText,{children:/*#__PURE__*/s.jsx(i.BiLock,{})}),/*#__PURE__*/s.jsx(n.Input,{label:"Password",placeholder:"Password",type:"password",autoComplete:"off",value:d.password,onChange:function(e){var n={field:"password",value:e.currentTarget.value};m(n),a(n)}})]}),/*#__PURE__*/s.jsx("a",{className:"btn-link",href:"https://alice.imssystems.tech/accounts/recovery",children:/*#__PURE__*/s.jsx("small",{children:"Forgot password?"})}),/*#__PURE__*/s.jsx(n.Button,{className:"mt-5 mb-2",color:"primary",type:"submit",onClick:function(e){return j(e,t)},disabled:!b()||g,block:!0,children:/*#__PURE__*/s.jsxs(c.default.Fragment,g?{children:["Signing in ",/*#__PURE__*/s.jsx(n.Spinner,{size:"sm"})]}:{children:["Sign in ",/*#__PURE__*/s.jsx(i.BiLogInCircle,{})]})})]}),/*#__PURE__*/s.jsx("small",{children:"Don't have an account? Let's "}),/*#__PURE__*/s.jsxs("a",{className:"btn-link",href:"https://alice.imssystems.tech/accounts/register",children:[/*#__PURE__*/s.jsx("small",{children:"Get Started"}),"."]})]})},j=function(e){/*#__PURE__*/return s.jsx(n.Row,{className:"h-100",children:/*#__PURE__*/s.jsx(n.Col,{md:"5",className:"mx-auto",children:/*#__PURE__*/s.jsx(g,d({},e))})})};j.propTypes={onLogin:u.default.func,onPasswordChange:u.default.func,onEmailChange:u.default.func},e.AliceAuthPage=j});
//# sourceMappingURL=index.umd.js.map
