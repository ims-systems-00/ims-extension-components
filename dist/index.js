var e=require("ims-ui-kit"),r=require("prop-types"),n=require("react"),t=require("react-icons/bi"),i=require("yup"),o=require("react/jsx-runtime");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,t.get?t:{enumerable:!0,get:function(){return e[n]}})}}),r.default=e,r}var l=/*#__PURE__*/a(r),u=/*#__PURE__*/a(n),c=/*#__PURE__*/s(i);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},f.apply(this,arguments)}function d(e,r){try{var n=e()}catch(e){return r(e)}return n&&n.then?n.then(void 0,r):n}Object.byString=function(e,r){for(var n=(r=(r=r.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),t=0,i=n.length;t<i;++t){var o=n[t];if(!(o in e))return;e=e[o]}return e};var m=function(e,r){var t=n.useState(e),i=t[0],o=t[1],a=n.useState({}),s=a[0],l=a[1],u=n.useState(!1),m=u[0],h=u[1],v=function(){try{var e={abortEarly:!1},n={};return Promise.resolve(d(function(){return Promise.resolve(r.validate(i,e)).then(function(){return null})},function(e){return e.inner.forEach(function(e){n[e.path]=e.message}),n}))}catch(e){return Promise.reject(e)}},p=function(){o(e),l({})},g=function e(r,n){var t,i=Object.keys(r),o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0,s=i;a<s.length;a++){var l=s[a],u=r[l],c=n[l],f=null!==(t=u)&&"object"==typeof t;if(!f&&u!==c)return!1;if(f&&!e(u,c))return!1}return!0};return n.useEffect(function(){console.log("datamodel",i),console.log("validation error:",s)},[i,s]),n.useEffect(function(){Promise.resolve(v()).then(function(e){if(e)return l(e)})},[]),{dataModel:i,validationErrors:s,isBusy:m,handleChange:function(e){var n=e.field,t=e.value,a=f({},i);a[n]=t,o(a),function(e,n){try{var t=f({},s),i=function(i,o){try{var a=d(function(){var i=c.reach(r,e);return Promise.resolve(i.validate(n)).then(function(){delete t[e]})},function(r){t[e]=r.message})}catch(e){return o(!0,e)}return a&&a.then?a.then(o.bind(null,!1),o.bind(null,!0)):o(!1,a)}(0,function(e,r){if(l(t),e)throw r;return r});return Promise.resolve(i&&i.then?i.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}(n,t)},handleSubmit:function(e,r,n,t){void 0===n&&(n=!0);try{return e.preventDefault(),Promise.resolve(v()).then(function(t){function o(){h(!1)}if(t)return l(t);var a=d(function(){return h(!0),Promise.resolve(new Promise(function(t,o){try{return Promise.resolve(d(function(){return Promise.resolve(r(i,e)).then(function(){return n&&p(),t()})},function(e){return o(e)}))}catch(e){return Promise.reject(e)}})).then(function(){})},function(e){console.log(e)});return a&&a.then?a.then(o):o()})}catch(e){return Promise.reject(e)}},isFormValid:function(){return 0===Object.keys(s).length},resetForm:p,hasUnsavedData:function(){return!g(e,i)}}},h={email:"",password:""},v=c.object({email:c.string().required().email().label("Email"),password:c.string().required().min(8).label("Password")});c.object({name:c.string().required().label("Name"),email:c.string().required().email().label("Email"),password:c.string().required().min(8).label("Password")}),c.object({email:c.string().required().email().label("Email")}),c.object({password:c.string().required().min(8).label("Password")});var p=function(r){var n=r.onLogin,i=void 0===n?function(){}:n,a=r.onPasswordChange,s=void 0===a?function(){}:a,l=r.onEmailChange,c=void 0===l?function(){}:l,f=m(h,v),d=f.dataModel,p=f.handleChange,g=f.isBusy,j=f.handleSubmit,b=f.isFormValid;/*#__PURE__*/return o.jsxs("div",{className:"login-form",children:[/*#__PURE__*/o.jsx("img",{className:"login-alice-logo mb-4",src:"https://assets.imssystems.tech/images/logo/alice/alice-full-logo.svg"}),/*#__PURE__*/o.jsx("h4",{className:"",children:"Welcome!"}),/*#__PURE__*/o.jsx("p",{className:"mb-5",children:"Boost your business efficiency with AI technology."}),/*#__PURE__*/o.jsxs(e.Form,{children:[/*#__PURE__*/o.jsxs(e.InputGroup,{children:[/*#__PURE__*/o.jsx(e.InputGroupText,{children:/*#__PURE__*/o.jsx(t.BiEnvelope,{})}),/*#__PURE__*/o.jsx(e.Input,{label:"Email",placeholder:"Email",type:"email",autoComplete:"off",value:d.email,onChange:function(e){var r={field:"email",value:e.currentTarget.value};p(r),c(r)}})]}),/*#__PURE__*/o.jsxs(e.InputGroup,{children:[/*#__PURE__*/o.jsx(e.InputGroupText,{children:/*#__PURE__*/o.jsx(t.BiLock,{})}),/*#__PURE__*/o.jsx(e.Input,{label:"Password",placeholder:"Password",type:"password",autoComplete:"off",value:d.password,onChange:function(e){var r={field:"password",value:e.currentTarget.value};p(r),s(r)}})]}),/*#__PURE__*/o.jsx("a",{className:"btn-link",href:"https://alice.imssystems.tech/accounts/recovery",children:/*#__PURE__*/o.jsx("small",{children:"Forgot password?"})}),/*#__PURE__*/o.jsx(e.Button,{className:"mt-5 mb-2",color:"primary",type:"submit",onClick:function(e){return j(e,i)},disabled:!b()||g,block:!0,children:/*#__PURE__*/o.jsxs(u.default.Fragment,g?{children:["Signing in ",/*#__PURE__*/o.jsx(e.Spinner,{size:"sm"})]}:{children:["Sign in ",/*#__PURE__*/o.jsx(t.BiLogInCircle,{})]})})]}),/*#__PURE__*/o.jsx("small",{children:"Don't have an account? Let's "}),/*#__PURE__*/o.jsxs("a",{className:"btn-link",href:"https://alice.imssystems.tech/accounts/register",children:[/*#__PURE__*/o.jsx("small",{children:"Get Started"}),"."]})]})},g=function(r){/*#__PURE__*/return o.jsx(e.Row,{className:"h-100",children:/*#__PURE__*/o.jsx(e.Col,{md:"5",className:"mx-auto",children:/*#__PURE__*/o.jsx(p,f({},r))})})};g.propTypes={onLogin:l.default.func,onPasswordChange:l.default.func,onEmailChange:l.default.func},exports.AliceAuthPage=g;
//# sourceMappingURL=index.js.map
